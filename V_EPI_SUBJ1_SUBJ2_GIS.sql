--------------------------------------------------------
--  DDL for View V_EPI_SUBJ1_SUBJ2_GIS
--------------------------------------------------------

  CREATE OR REPLACE VIEW "V_EPI_SUBJ1_SUBJ2_GIS" ("TT_TT_TYPE_ID", "TT_TT_START", "TT_TT_END", "TT_EPI_ID", "TT_ALERT_ID", "TT_DESCRIPTION", "TT_CRU", "TT_CRD", "TT_MDU", "TT_MDD", "E_EPI_ID", "E_EPI_NAME", "E_EPI_TYPE_ID", "E_STAT_TYPE_ID", "E_EPI_VALUE", "E_EPI_UNIT_TYPE_ID", "E_ORDER_NO", "E_DESCRIPTION", "E_CLASS_TYPE", "E_CLASS_ID", "E_FROM_DATE", "E_TO_DATE", "E_CRU", "E_CRD", "E_MDU", "E_MDD", "ESP_EPI_SUBJ_ID", "ESP_SUBJ_ID", "ESP_EPI_ID", "ESP_PARAM_TYPE_ID", "ESP_VALUE", "ESP_UNIT_TYPE_ID", "ESP_DESCRIPTION", "ESP_CRU", "ESP_CRD", "ESP_MDU", "ESP_MDD", "GSER_REL_ID", "GSER_REL_TYPE_ID", "GSER_GIS_ID", "GSER_SUBJ_ID", "GSER_EPI_ID", "GSER_DESCRIPTION", "GSER_CRU", "GSER_CRD", "GSER_MDU", "GSER_MDD") AS 
  SELECT TT.TIME_ID TT_TIME_ID,
    TT.TT_TYPE_ID TT_TT_TYPE_ID,
    TT.TT_START TT_TT_START,
    TT.TT_END TT_TT_END,
    TT.EPI_ID TT_EPI_ID,
    TT.ALERT_ID TT_ALERT_ID,
    TT.DESCRIPTION TT_DESCRIPTION,
    TT.CRU TT_CRU,
    TT.CRD TT_CRD,
    TT.MDU TT_MDU,
    TT.MDD TT_MDD,
    E.EPI_ID E_EPI_ID,
    E.EPI_NAME E_EPI_NAME,
    E.EPI_TYPE_ID E_EPI_TYPE_ID,
   -- E.STAT_TYPE_ID E_STAT_TYPE_ID,
    E.EPI_VALUE E_EPI_VALUE,
    E.EPI_UNIT_TYPE_ID E_EPI_UNIT_TYPE_ID,
    E.ORDER_NO E_ORDER_NO,
    E.DESCRIPTION E_DESCRIPTION,
    E.CLASS_TYPE E_CLASS_TYPE,
    E.CLASS_ID E_CLASS_ID,
    E.FROM_DATE E_FROM_DATE,
    E.TO_DATE E_TO_DATE,
    E.CRU E_CRU,
    E.CRD E_CRD,
    E.MDU E_MDU,
    E.MDD E_MDD,
    ESP.EPI_SUBJ_ID ESP_EPI_SUBJ_ID,
    ESP.SUBJ_ID ESP_SUBJ_ID,
    ESP.EPI_ID ESP_EPI_ID,
    ESP.PARAM_TYPE_ID ESP_PARAM_TYPE_ID,
    ESP.VALUE ESP_VALUE,
    ESP.UNIT_TYPE_ID ESP_UNIT_TYPE_ID,
    ESP.DESCRIPTION ESP_DESCRIPTION,
   -- ESP.STAT_TYPE_ID ESP_STAT_TYPE_ID,
    ESP.CRU ESP_CRU,
    ESP.CRD ESP_CRD,
    ESP.MDU ESP_MDU,
    ESP.MDD ESP_MDD,
    GSER.REL_ID GSER_REL_ID,
    GSER.REL_TYPE_ID GSER_REL_TYPE_ID,
    GSER.GIS_ID GSER_GIS_ID,
    GSER.SUBJ_ID GSER_SUBJ_ID,
    GSER.EPI_ID GSER_EPI_ID,
    GSER.DESCRIPTION GSER_DESCRIPTION,
    GSER.CRU GSER_CRU,
    GSER.CRD GSER_CRD,
    GSER.MDU GSER_MDU,
    GSER.MDD GSER_MDD
  FROM EPI e,
    EPI_SUBJ_PARAM esp,
    GIS_SUBJ_EPI_REL gser,
    TIME_TABLE tt
  WHERE e.EPI_ID   =esp.epi_id
  AND gser.epi_id  =e.epi_id
  AND e.EPI_ID     =tt.epi_id
  AND tt.TT_TYPE_ID=1;
